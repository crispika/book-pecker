{"version":3,"sources":["pages/header/img/pecker-logo.png","pages/header/header.jsx","assets/color.js","utils/localDb.js","utils/db-types.js","redux/actions.js","redux/action-types.js","utils/handleEvent.js","utils/notification.js","utils/money-calculator.js","pages/book-item/book-item.jsx","pages/book-list/book-list.jsx","pages/trolley/trolley.jsx","pages/user/user.jsx","components/grade-spread.jsx","components/comment-item.jsx","components/description/description.jsx","pages/login/login.jsx","pages/register/register.jsx","App.js","redux/reducers.js","redux/store.js","index.js"],"names":["module","exports","Header","MyHeader","props","handleLogout","history","push","style","backgroundColor","className","mode","defaultSelectedKeys","Item","key","to","Component","db","window","localStorage","db_init_table","table_name","type","db_select_MapItem","JSON","parse","db_insert_tableMapItem","data","table","stringify","TROLLEY","receiveBookList","book_list","receiveBookInfo","book_info","receiveBookComments","book_comments","receiveTrolleyData","trolley_data","updateSuccess","newData","clearStateToObj","addToCart","id","bookname","msg","content","console","log","db_insert_trolleyItem","notification","open","message","description","icon","CheckCircleOutlined","color","formatMoney","number","places","symbol","thousand","decimal","isNaN","Math","abs","undefined","negative","i","parseInt","toFixed","j","length","substr","replace","slice","calSubtotal","qty","price_str","pos","price","parseFloat","floor","Meta","Text","BookItem","this","short_intro","cover","hoverable","bordered","width","margin","height","background","backgroundSize","actions","StarOutlined","ShoppingCartOutlined","onClick","bind","ShareAltOutlined","title","marginBottom","marginLeft","connect","deleteBook","book_id","BookList","getBookList","Object","keys","justify","align","gutter","xs","sm","md","lg","map","index","span","defaultCurrent","total","pageSize","state","dispatch","setTimeout","book_data","username","comment","avatar","number_of_like","number_of_dislike","my_action","created_time","forEach","book","EditableContext","React","createContext","EditableRow","useForm","form","component","Provider","value","EditableCell","editable","children","dataIndex","record","handleSave","restProps","useState","editing","setEditing","inputRef","useRef","useContext","useEffect","current","focus","toggleEdit","setFieldsValue","save","e","a","validateFields","values","childNode","name","rules","required","pattern","ref","onPressEnter","onBlur","paddingRight","Trolley","handleDelete","dataSource","filter","item","deleteTrolleyData","row","findIndex","splice","updateTrolleyData","rowSelection","onChange","selectedRowKeys","selectedRows","onSelect","selected","keySelected","setState","onSelectAll","changeRows","columns","render","url","src","text","display","justifyContent","EditOutlined","marginTop","onConfirm","count","getTrolleyList","clearStateToList","components","body","cell","col","onCell","pagination","summary","table_data","total_price","includes","Summary","Row","Cell","colSpan","fontSize","trolley_db","trolley_item","bookid","db_update_trolleyItem","db_delete_trolleyItem","User","GradeSpread","grade","flexFlow","flexGrow","percent","size","strokeColor","CommentItem","likes","setLikes","dislikes","setDislikes","action","setAction","createElement","LikeFilled","LikeOutlined","DislikeFilled","DislikeOutlined","author","alt","datetime","moment","format","fromNow","Description","match","params","getBookInfo","getBookComments","book_description","borderRight","borderBottom","bodyStyle","padding","backgroundImage","headStyle","column","label","press","publish_year","number_of_pages","ISBN","paddingTop","defaultValue","star","allowHalf","disabled","flexDirection","grade_spread","dangerouslySetInnerHTML","__html","itemLayout","renderItem","Login","onFinish","email","password","remember","CloseCircleOutlined","handleRememberPwd","isRemembered","cookie","load","initialValues","prefix","UserOutlined","placeholder","LockOutlined","valuePropName","noStyle","checked","href","htmlType","Option","prefixSelector","Register","tailFormItemLayout","wrapperCol","offset","labelCol","scrollToFirstError","QuestionCircleOutlined","min","max","whitespace","hasFeedback","Password","dependencies","getFieldValue","validator","rule","Promise","reject","resolve","addonBefore","extra","Content","Footer","App","minHeight","path","textAlign","combineReducers","assign","createStore","reducers","applyMiddleware","thunk","ReactDOM","store","document","getElementById"],"mappings":"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","file":"static/js/main.db2b0838.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pecker-logo.b413e67c.png\";","import React, { Component } from 'react'\nimport { Layout, Menu } from 'antd'\nimport { NavLink } from 'react-router-dom'\nimport { header_bg_color } from \"../../assets/color\";\nimport {useLoginStatus} from \"../../utils/hooks\"\nimport \"./header.less\"\nimport logo from \"./img/pecker-logo.png\"\n\nconst { Header } = Layout;\n\nexport default class MyHeader extends Component {\n    constructor(props){\n        super(props)\n    }\n\n    handleLogout = () => {\n        //TODO 登出操作\n        \n        // 跳转至/books\n        //XXX 为什么此处props是空的？\n        this.props.history.push(\"/books\"); \n    }\n\n    render() {\n        //XXX just for test\n        const isLogin = false;\n        // const isLogin = useLoginStatus();\n        return (\n            <Header style={{ backgroundColor: header_bg_color }} className=\"header\">\n                <Menu \n                    className=\"menu\" \n                    style={{ backgroundColor: header_bg_color }} \n                    mode=\"horizontal\" \n                    defaultSelectedKeys={['1']}\n                >\n\n                    <Menu.Item key=\"book-list\">\n                        <NavLink to='/books'>书的森林 </NavLink>\n                    </Menu.Item>\n                    <Menu.Item key=\"trolley\">\n                        <NavLink to=\"/trolley\">购物车</NavLink>\n                    </Menu.Item>\n                    {!isLogin &&\n                    (<Menu.Item key=\"login\">\n                        <NavLink to=\"/login\">登录</NavLink>\n                    </Menu.Item>)}\n                    {isLogin && (<Menu.Item key=\"user\">\n                        <NavLink to=\"/user\">我的书架</NavLink>\n                    </Menu.Item>)}\n                </Menu>\n                {isLogin &&\n                    <div className=\"logout\" onClick={this.handleLogout}>登出</div>}\n            </Header>\n        )\n    }\n}\n","export const content_bg_color = \"#F0E3D4\";\nexport const header_bg_color =\"#CE9E8D\";\nexport const footer_bg_color = \"#CE9E8D\";\nexport const pages_bg_color = \"#F0E3D4\";\nexport const pale_olive = \"#ABC394\";\nexport const light_aoi = \"#EEF6F6\";\nexport const light_grey = \"#F7F7F7\";\nexport const dark_red = \"#98554B\";\n","/**\n * insert \n * update\n * delete\n * select\n */\n\nlet db = window.localStorage;\n\nexport function db_init_table(table_name, type) {\n    if (!db[table_name]) {\n        switch (type) {\n            case \"MAP\":\n                db[table_name] = \"{}\"\n                return;\n            case \"LIST\":\n                db[table_name] = \"[]\"\n                return;\n            default:\n                db[table_name] = \"{}\"\n                return;\n        }\n    }\n}\n\nexport function db_select_table(table_name) {\n    return JSON.parse(db[table_name]);\n}\n\nexport function db_select_MapItem(table_name, key) {\n    let table = JSON.parse(db[table_name]);\n    return table[key];\n}\n\nexport function db_insert_tableMapItem(table_name, key, data) {\n    // console.log(db[table_name]);\n    let table = JSON.parse(db[table_name]);\n\n    table[key] = data;\n\n    db[table_name] = JSON.stringify(table)\n}\n\n// export function db_insert_tableListItem(table_name, data) {\n//     if (!db[table_name]) db[table_name] = \"[]\";\n//     let table = JSON.parse(db[table_name]);\n//     table.push(data)\n//     db[table_name] = JSON.stringify(table)\n// }\n\nexport function db_update_tableItem(table_name, key, data) {\n    let old_data = db[table_name][key];\n    db[table_name][key] = Object.assign({}, old_data, data);\n}\n\nexport function db_delete_tableItem(table_name, key) {\n    delete db[table_name][key];\n}\n\n\n/** for trolley table */\nexport function db_insert_trolleyItem(table_name, key) {\n    if (!db[table_name]) db[table_name] = \"{}\";\n    let table = JSON.parse(db[table_name]);\n    if (table[key]) table[key] += 1;\n    else table[key] = 1;\n    db[table_name] = JSON.stringify(table)\n}\n\nexport function db_update_trolleyItem(table_name, key, value) {\n    let table = JSON.parse(db[table_name]);\n    table[key] = value;\n    db[table_name] = JSON.stringify(table)\n    // console.log(\"trolley_upadated: \" + db[table_name])\n}\n\nexport function db_delete_trolleyItem(table_name, key){\n    let table = JSON.parse(db[table_name]);\n    delete table[key];\n    db[table_name] = JSON.stringify(table)\n}\n\n\n","export const BOOKINFO = \"bookinfo\";\nexport const TROLLEY = \"trolleyinfo\";\nexport const COMMENTS = \"comments\";","import { DELETE_BOOK, RECEIVE_BOOKLIST, RECEIVE_BOOKINFO, RECEIVE_BOOK_COMMENTS, RECEIVE_TROLLEYDATA, UPDATE_TROLLEYDATA, CLEAR_STATE_TO_OBJ, CLEAR_STATE_TO_LIST } from \"./action-types\";\n// for test\nimport UUID from \"node-uuid\";\nimport { db_init_table, db_insert_tableMapItem, db_select_table, db_select_MapItem, db_update_trolleyItem, db_delete_trolleyItem } from \"../utils/localDb\"\nimport { BOOKINFO, TROLLEY, COMMENTS } from \"../utils/db-types\"\n\nexport const deleteBook = (book_id) => ({ type: DELETE_BOOK, data: book_id });\n\nexport const getBookList = () => {\n    return (dispatch) => {\n        //模拟异步获取数据\n        setTimeout(() => {\n            const book_data = [\n                {\n                    \"bookname\": \"猫不存在\",\n                    \"short_intro\": \"从猫开始，全世界的科幻名家带你走出熟悉的日常，去往未知的奇境。\",\n                    \"cover\": \"https://s1.ax1x.com/2020/05/17/YRcJKI.jpg\",\n                    // \"id\": UUID.v1(),\n                    \"id\": \"book1\",\n                    \"author\": \"[美] 厄休拉・勒古恩\",\n                    \"ISBN\": \"9787540486198\",\n                    \"press\": \"湖南文艺出版社\",\n                    \"publish_year\": \"2020-5\",\n                    \"number_of_pages\": \"408\",\n                    \"price\": \"49.8\",\n                    \"grade\": \"8\",\n                    \"star\": \"4\",\n                    \"grade_spread\": [[\"5星\", 50], [\"4星\", 0], [\"3星\", 50], [\"2星\", 0], [\"1星\", 0]],\n                    \"description\": \"<p>科幻文化领域专业影响力品牌、亚太科幻大会主办方未来事务管理局重磅新作，致力打造中国科幻的黄金时代。<p/><p>从猫开始，全世界的科幻名家带你走出熟悉的日常，去往未知的奇境。17 个国内外科幻作家有关猫的科幻故事，5 篇与猫相关的科幻趣文。<p/><p>内附《牛筋名猫录》漫画师阿科创作的刘慈欣、韩松、儒勒・凡尔纳、阿瑟・C・克拉克、厄休拉・勒古恩等 9 位科幻作家猫漫画。<p/><p>融合虚构与非虚构，带你领略：有了猫，你就有了整个宇宙；在你腿上的毛茸茸，藏着宇宙的大秘密。</p>\"\n                },\n                {\n                    \"bookname\": \"意大利的冬天\",\n                    \"short_intro\": \"本书文章精选自法国 19 世纪著名历史学家儒勒・米什莱的 12 部代表著作,从内容上可以分为自然散文和历史散文两部分，作者的生活情趣和渊博学识闪现在字里行间。\",\n                    \"cover\": \"https://s1.ax1x.com/2020/05/21/Yq1yHf.jpg\",\n                    // \"id\": UUID.v1(),\n                    \"id\": \"book2\",\n                    \"author\": \"[法] 儒勒・米什莱\",\n                    \"ISBN\": \"9787544773423\",\n                    \"press\": \"译林出版社\",\n                    \"publish_year\": \"2020-4\",\n                    \"number_of_pages\": \"265\",\n                    \"price\": \"39.00\",\n                    \"grade\": \"8\",\n                    \"star\": \"4\",\n                    \"grade_spread\": [[\"5星\", 50], [\"4星\", 0], [\"3星\", 50], [\"2星\", 0], [\"1星\", 0]],\n                    \"description\": \"<p>本书文章精选自法国 19 世纪著名历史学家儒勒・米什莱的 12 部代表著作 ——《鸟》《虫》《海》《山》《意大利的冬天》《罗马史》《法国史》《人民》《我们的儿子》《女巫》《我的少年时代》，从内容上可以分为自然散文和历史散文两部分，作者的生活情趣和渊博学识闪现在字里行间。<p/>\"\n                },\n                {\n                    \"bookname\": \"声音中的另一种语言\",\n                    \"short_intro\": \"一场生命诗学的盛宴：从但丁、莎士比亚、爱伦・坡、兰波、波德莱尔、马拉美到俳句，作者邀约我们亲赴诗的腹地。\",\n                    \"cover\": \"https://s1.ax1x.com/2020/05/21/Yq1cE8.jpg\",\n                    // \"id\": UUID.v1(),\n                    \"id\": \"book3\",\n                    \"author\": \" [法] 伊夫・博纳富瓦\",\n                    \"ISBN\": \"9787219109304\",\n                    \"press\": \"拜德雅丨广西人民出版社\",\n                    \"publish_year\": \"2020-3\",\n                    \"number_of_pages\": \"408\",\n                    \"price\": \"69.8\",\n                    \"grade\": \"9.1\",\n                    \"star\": \"4.5\",\n                    \"grade_spread\": [[\"5星\", 55.6], [\"4星\", 44.4], [\"3星\", 50], [\"2星\", 0], [\"1星\", 0]],\n                    \"description\": \"<p>★瓦尔特・本雅明《译作者的任务》以来至为重要的翻译论著。<p/>★法国当代举足轻重的世界级诗坛巨匠、著名翻译家、艺术评论家，龚古尔诗歌奖、卡夫卡文学奖得主，法兰西公学院院士，伊夫・博纳富瓦翻译论集首部中译本。<p>★一场生命诗学的盛宴：从但丁、莎士比亚、爱伦・坡、兰波、波德莱尔、马拉美到俳句，作者邀约我们亲赴诗的腹地。<p/>★“一首诗歌（poème）的诗（poésie）以一种声音（voix）的方式走向读者。”<p>★通过诗的翻译，对虚幻的概念性言语提出质疑，在进一步自我批评的同时重新思考与异的关系，从而探寻真实的生活与场所，与自己真实的信念相遇。<p/><p>- 内容简介 -<p/><p>本书是法国著名诗人、翻译家、艺术评论家伊夫・博纳富瓦关于诗及诗的翻译的重要论集，是一部极具研读价值的诗学著作，堪称瓦尔特・本雅明《译作者的任务》以来至为重要的翻译论著。此外，它不仅是一部翻译论著，更是一场生命诗学的盛宴：从但丁、莎士比亚、爱伦・坡、兰波、波德莱尔、马拉美到俳句，作者邀约我们亲赴诗的腹地。<p/>\"\n                },\n                {\n                    \"bookname\": \"猫不存在_v2\",\n                    \"short_intro\": \"从猫开始，全世界的科幻名家带你走出熟悉的日常，去往未知的奇境。\",\n                    \"cover\": \"https://s1.ax1x.com/2020/05/17/YRcJKI.jpg\",\n                    // \"id\": UUID.v1(),\n                    \"id\": \"book4\",\n                    \"author\": \"[美] 厄休拉・勒古恩\",\n                    \"ISBN\": \"9787540486198\",\n                    \"press\": \"湖南文艺出版社\",\n                    \"publish_year\": \"2020-5\",\n                    \"number_of_pages\": \"408\",\n                    \"price\": \"49.8\",\n                    \"grade\": \"8\",\n                    \"star\": \"4\",\n                    \"grade_spread\": [[\"5星\", 50], [\"4星\", 0], [\"3星\", 50], [\"2星\", 0], [\"1星\", 0]],\n                    \"description\": \"<p>科幻文化领域专业影响力品牌、亚太科幻大会主办方未来事务管理局重磅新作，致力打造中国科幻的黄金时代。<p/><p>从猫开始，全世界的科幻名家带你走出熟悉的日常，去往未知的奇境。17 个国内外科幻作家有关猫的科幻故事，5 篇与猫相关的科幻趣文。<p/><p>内附《牛筋名猫录》漫画师阿科创作的刘慈欣、韩松、儒勒・凡尔纳、阿瑟・C・克拉克、厄休拉・勒古恩等 9 位科幻作家猫漫画。<p/><p>融合虚构与非虚构，带你领略：有了猫，你就有了整个宇宙；在你腿上的毛茸茸，藏着宇宙的大秘密。</p>\"\n                },\n                {\n                    \"bookname\": \"意大利的冬天_v2\",\n                    \"short_intro\": \"本书文章精选自法国 19 世纪著名历史学家儒勒・米什莱的 12 部代表著作,从内容上可以分为自然散文和历史散文两部分，作者的生活情趣和渊博学识闪现在字里行间。\",\n                    \"cover\": \"https://s1.ax1x.com/2020/05/21/Yq1yHf.jpg\",\n                    // \"id\": UUID.v1(),\n                    \"id\": \"book5\",\n                    \"author\": \"[法] 儒勒・米什莱\",\n                    \"ISBN\": \"9787544773423\",\n                    \"press\": \"译林出版社\",\n                    \"publish_year\": \"2020-4\",\n                    \"number_of_pages\": \"265\",\n                    \"price\": \"39.00\",\n                    \"grade\": \"8\",\n                    \"star\": \"4\",\n                    \"grade_spread\": [[\"5星\", 50], [\"4星\", 0], [\"3星\", 50], [\"2星\", 0], [\"1星\", 0]],\n                    \"description\": \"<p>本书文章精选自法国 19 世纪著名历史学家儒勒・米什莱的 12 部代表著作 ——《鸟》《虫》《海》《山》《意大利的冬天》《罗马史》《法国史》《人民》《我们的儿子》《女巫》《我的少年时代》，从内容上可以分为自然散文和历史散文两部分，作者的生活情趣和渊博学识闪现在字里行间。<p/>\"\n                },\n                {\n                    \"bookname\": \"声音中的另一种语言_v2\",\n                    \"short_intro\": \"一场生命诗学的盛宴：从但丁、莎士比亚、爱伦・坡、兰波、波德莱尔、马拉美到俳句，作者邀约我们亲赴诗的腹地。\",\n                    \"cover\": \"https://s1.ax1x.com/2020/05/21/Yq1cE8.jpg\",\n                    // \"id\": UUID.v1(),\n                    \"id\": \"book6\",\n                    \"author\": \" [法] 伊夫・博纳富瓦\",\n                    \"ISBN\": \"9787219109304\",\n                    \"press\": \"拜德雅丨广西人民出版社\",\n                    \"publish_year\": \"2020-3\",\n                    \"number_of_pages\": \"408\",\n                    \"price\": \"69.8\",\n                    \"grade\": \"9.1\",\n                    \"star\": \"4.5\",\n                    \"grade_spread\": [[\"5星\", 55.6], [\"4星\", 44.4], [\"3星\", 50], [\"2星\", 0], [\"1星\", 0]],\n                    \"description\": \"<p>★瓦尔特・本雅明《译作者的任务》以来至为重要的翻译论著。<p/>★法国当代举足轻重的世界级诗坛巨匠、著名翻译家、艺术评论家，龚古尔诗歌奖、卡夫卡文学奖得主，法兰西公学院院士，伊夫・博纳富瓦翻译论集首部中译本。<p>★一场生命诗学的盛宴：从但丁、莎士比亚、爱伦・坡、兰波、波德莱尔、马拉美到俳句，作者邀约我们亲赴诗的腹地。<p/>★“一首诗歌（poème）的诗（poésie）以一种声音（voix）的方式走向读者。”<p>★通过诗的翻译，对虚幻的概念性言语提出质疑，在进一步自我批评的同时重新思考与异的关系，从而探寻真实的生活与场所，与自己真实的信念相遇。<p/><p>- 内容简介 -<p/><p>本书是法国著名诗人、翻译家、艺术评论家伊夫・博纳富瓦关于诗及诗的翻译的重要论集，是一部极具研读价值的诗学著作，堪称瓦尔特・本雅明《译作者的任务》以来至为重要的翻译论著。此外，它不仅是一部翻译论著，更是一场生命诗学的盛宴：从但丁、莎士比亚、爱伦・坡、兰波、波德莱尔、马拉美到俳句，作者邀约我们亲赴诗的腹地。<p/>\"\n                },\n                {\n                    \"bookname\": \"猫不存在_v3\",\n                    \"short_intro\": \"从猫开始，全世界的科幻名家带你走出熟悉的日常，去往未知的奇境。\",\n                    \"cover\": \"https://s1.ax1x.com/2020/05/17/YRcJKI.jpg\",\n                    // \"id\": UUID.v1(),\n                    \"id\": \"book7\",\n                    \"author\": \"[美] 厄休拉・勒古恩\",\n                    \"ISBN\": \"9787540486198\",\n                    \"press\": \"湖南文艺出版社\",\n                    \"publish_year\": \"2020-5\",\n                    \"number_of_pages\": \"408\",\n                    \"price\": \"49.8\",\n                    \"grade\": \"8\",\n                    \"star\": \"4\",\n                    \"grade_spread\": [[\"5星\", 50], [\"4星\", 0], [\"3星\", 50], [\"2星\", 0], [\"1星\", 0]],\n                    \"description\": \"<p>科幻文化领域专业影响力品牌、亚太科幻大会主办方未来事务管理局重磅新作，致力打造中国科幻的黄金时代。<p/><p>从猫开始，全世界的科幻名家带你走出熟悉的日常，去往未知的奇境。17 个国内外科幻作家有关猫的科幻故事，5 篇与猫相关的科幻趣文。<p/><p>内附《牛筋名猫录》漫画师阿科创作的刘慈欣、韩松、儒勒・凡尔纳、阿瑟・C・克拉克、厄休拉・勒古恩等 9 位科幻作家猫漫画。<p/><p>融合虚构与非虚构，带你领略：有了猫，你就有了整个宇宙；在你腿上的毛茸茸，藏着宇宙的大秘密。</p>\"\n                },\n                {\n                    \"bookname\": \"意大利的冬天_v3\",\n                    \"short_intro\": \"本书文章精选自法国 19 世纪著名历史学家儒勒・米什莱的 12 部代表著作,从内容上可以分为自然散文和历史散文两部分，作者的生活情趣和渊博学识闪现在字里行间。\",\n                    \"cover\": \"https://s1.ax1x.com/2020/05/21/Yq1yHf.jpg\",\n                    // \"id\": UUID.v1(),\n                    \"id\": \"book8\",\n                    \"author\": \"[法] 儒勒・米什莱\",\n                    \"ISBN\": \"9787544773423\",\n                    \"press\": \"译林出版社\",\n                    \"publish_year\": \"2020-4\",\n                    \"number_of_pages\": \"265\",\n                    \"price\": \"39.00\",\n                    \"grade\": \"8\",\n                    \"star\": \"4\",\n                    \"grade_spread\": [[\"5星\", 50], [\"4星\", 0], [\"3星\", 50], [\"2星\", 0], [\"1星\", 0]],\n                    \"description\": \"<p>本书文章精选自法国 19 世纪著名历史学家儒勒・米什莱的 12 部代表著作 ——《鸟》《虫》《海》《山》《意大利的冬天》《罗马史》《法国史》《人民》《我们的儿子》《女巫》《我的少年时代》，从内容上可以分为自然散文和历史散文两部分，作者的生活情趣和渊博学识闪现在字里行间。<p/>\"\n                },\n                {\n                    \"bookname\": \"声音中的另一种语言_v3\",\n                    \"short_intro\": \"一场生命诗学的盛宴：从但丁、莎士比亚、爱伦・坡、兰波、波德莱尔、马拉美到俳句，作者邀约我们亲赴诗的腹地。\",\n                    \"cover\": \"https://s1.ax1x.com/2020/05/21/Yq1cE8.jpg\",\n                    // \"id\": UUID.v1(),\n                    \"id\": \"book9\",\n                    \"author\": \" [法] 伊夫・博纳富瓦\",\n                    \"ISBN\": \"9787219109304\",\n                    \"press\": \"拜德雅丨广西人民出版社\",\n                    \"publish_year\": \"2020-3\",\n                    \"number_of_pages\": \"408\",\n                    \"price\": \"69.8\",\n                    \"grade\": \"9.1\",\n                    \"star\": \"4.5\",\n                    \"grade_spread\": [[\"5星\", 55.6], [\"4星\", 44.4], [\"3星\", 50], [\"2星\", 0], [\"1星\", 0]],\n                    \"description\": \"<p>★瓦尔特・本雅明《译作者的任务》以来至为重要的翻译论著。<p/>★法国当代举足轻重的世界级诗坛巨匠、著名翻译家、艺术评论家，龚古尔诗歌奖、卡夫卡文学奖得主，法兰西公学院院士，伊夫・博纳富瓦翻译论集首部中译本。<p>★一场生命诗学的盛宴：从但丁、莎士比亚、爱伦・坡、兰波、波德莱尔、马拉美到俳句，作者邀约我们亲赴诗的腹地。<p/>★“一首诗歌（poème）的诗（poésie）以一种声音（voix）的方式走向读者。”<p>★通过诗的翻译，对虚幻的概念性言语提出质疑，在进一步自我批评的同时重新思考与异的关系，从而探寻真实的生活与场所，与自己真实的信念相遇。<p/><p>- 内容简介 -<p/><p>本书是法国著名诗人、翻译家、艺术评论家伊夫・博纳富瓦关于诗及诗的翻译的重要论集，是一部极具研读价值的诗学著作，堪称瓦尔特・本雅明《译作者的任务》以来至为重要的翻译论著。此外，它不仅是一部翻译论著，更是一场生命诗学的盛宴：从但丁、莎士比亚、爱伦・坡、兰波、波德莱尔、马拉美到俳句，作者邀约我们亲赴诗的腹地。<p/>\"\n                },\n            ];\n\n            const book_comments = {\n                \"book1\": [{ username: \"\", comment: \"you jump i jump\", avatar: \"https://cdnb.artstation.com/p/assets/images/images/006/534/075/smaller_square/gin-26.jpg?1499327788\", number_of_like: 66, number_of_dislike: 33, my_action: \"disliked\", created_time: \"20200208T080910\" },\n                { username: \"Jack+20\", comment: \"you jump i will not jump with you\", avatar: \"https://th.bing.com/th/id/OIP.V15VTnxfK8tRQOfGjO2UnQAAAA?pid=Api&rs=1\", number_of_like: 666, number_of_dislike: 333, my_action: \"liked\", created_time: \"20200508T080910\" },\n                ],\n                \"book2\": [{ username: \"BlackJack\", comment: \"you jump i jump\", avatar: \"https://cdnb.artstation.com/p/assets/images/images/006/534/075/smaller_square/gin-26.jpg?1499327788\", number_of_like: 66, number_of_dislike: 33, my_action: \"disliked\", created_time: \"20200208T080910\" },\n                { username: \"BlackJack+20\", comment: \"you jump i will not jump with you\", avatar: \"https://th.bing.com/th/id/OIP.V15VTnxfK8tRQOfGjO2UnQAAAA?pid=Api&rs=1\", number_of_like: 666, number_of_dislike: 333, my_action: \"liked\", created_time: \"20200508T080910\" },\n                ],\n                \"book3\": [{ username: \"RedJack\", comment: \"you jump i jump\", avatar: \"https://cdnb.artstation.com/p/assets/images/images/006/534/075/smaller_square/gin-26.jpg?1499327788\", number_of_like: 66, number_of_dislike: 33, my_action: \"disliked\", created_time: \"20200208T080910\" },\n                { username: \"RedJack+20\", comment: \"you jump i will not jump with you\", avatar: \"https://th.bing.com/th/id/OIP.V15VTnxfK8tRQOfGjO2UnQAAAA?pid=Api&rs=1\", number_of_like: 666, number_of_dislike: 333, my_action: \"liked\", created_time: \"20200508T080910\" },\n                ],\n                \"book4\": [{ username: \"GreenJack\", comment: \"you jump i jump\", avatar: \"https://cdnb.artstation.com/p/assets/images/images/006/534/075/smaller_square/gin-26.jpg?1499327788\", number_of_like: 66, number_of_dislike: 33, my_action: \"disliked\", created_time: \"20200208T080910\" },\n                { username: \"GreenJack+20\", comment: \"you jump i will not jump with you\", avatar: \"https://th.bing.com/th/id/OIP.V15VTnxfK8tRQOfGjO2UnQAAAA?pid=Api&rs=1\", number_of_like: 666, number_of_dislike: 333, my_action: \"liked\", created_time: \"20200508T080910\" },\n                ],\n                \"book5\": [{ username: \"YellowJack\", comment: \"you jump i jump\", avatar: \"https://cdnb.artstation.com/p/assets/images/images/006/534/075/smaller_square/gin-26.jpg?1499327788\", number_of_like: 66, number_of_dislike: 33, my_action: \"disliked\", created_time: \"20200208T080910\" },\n                { username: \"YellowJack+20\", comment: \"you jump i will not jump with you\", avatar: \"https://th.bing.com/th/id/OIP.V15VTnxfK8tRQOfGjO2UnQAAAA?pid=Api&rs=1\", number_of_like: 666, number_of_dislike: 333, my_action: \"liked\", created_time: \"20200508T080910\" },\n                ],\n                \"book6\": [{ username: \"PinkJack\", comment: \"you jump i jump\", avatar: \"https://cdnb.artstation.com/p/assets/images/images/006/534/075/smaller_square/gin-26.jpg?1499327788\", number_of_like: 66, number_of_dislike: 33, my_action: \"disliked\", created_time: \"20200208T080910\" },\n                { username: \"PinkJack+20\", comment: \"you jump i will not jump with you\", avatar: \"https://th.bing.com/th/id/OIP.V15VTnxfK8tRQOfGjO2UnQAAAA?pid=Api&rs=1\", number_of_like: 666, number_of_dislike: 333, my_action: \"liked\", created_time: \"20200508T080910\" },\n                ],\n                \"book7\": [{ username: \"WhiteJack\", comment: \"you jump i jump\", avatar: \"https://cdnb.artstation.com/p/assets/images/images/006/534/075/smaller_square/gin-26.jpg?1499327788\", number_of_like: 66, number_of_dislike: 33, my_action: \"disliked\", created_time: \"20200208T080910\" },\n                { username: \"WhiteJack+20\", comment: \"you jump i will not jump with you\", avatar: \"https://th.bing.com/th/id/OIP.V15VTnxfK8tRQOfGjO2UnQAAAA?pid=Api&rs=1\", number_of_like: 666, number_of_dislike: 333, my_action: \"liked\", created_time: \"20200508T080910\" },\n                ],\n                \"book8\": [{ username: \"BlueJack\", comment: \"you jump i jump\", avatar: \"https://cdnb.artstation.com/p/assets/images/images/006/534/075/smaller_square/gin-26.jpg?1499327788\", number_of_like: 66, number_of_dislike: 33, my_action: \"disliked\", created_time: \"20200208T080910\" },\n                { username: \"BlueJack+20\", comment: \"you jump i will not jump with you\", avatar: \"https://th.bing.com/th/id/OIP.V15VTnxfK8tRQOfGjO2UnQAAAA?pid=Api&rs=1\", number_of_like: 666, number_of_dislike: 333, my_action: \"liked\", created_time: \"20200508T080910\" },\n                ],\n                \"book9\": [{ username: \"OrangeJack\", comment: \"you jump i jump\", avatar: \"https://cdnb.artstation.com/p/assets/images/images/006/534/075/smaller_square/gin-26.jpg?1499327788\", number_of_like: 66, number_of_dislike: 33, my_action: \"disliked\", created_time: \"20200208T080910\" },\n                { username: \"OrangeJack+20\", comment: \"you jump i will not jump with you\", avatar: \"https://th.bing.com/th/id/OIP.V15VTnxfK8tRQOfGjO2UnQAAAA?pid=Api&rs=1\", number_of_like: 666, number_of_dislike: 333, my_action: \"liked\", created_time: \"20200508T080910\" },\n                ],\n            }\n\n            // 存入本地数据库，方便添加到购物车的数据沟通\n            db_init_table(BOOKINFO);\n            db_init_table(TROLLEY);\n            db_init_table(COMMENTS);\n\n            book_data.forEach((book) => {\n                db_insert_tableMapItem(BOOKINFO, book.id, book)\n            });\n\n            Object.keys(book_comments).forEach(id => db_insert_tableMapItem(COMMENTS, id, book_comments[id]))\n\n            // 模拟调用数据库\n            let book_list = [];\n            book_data.forEach(book => {\n                const { bookname, short_intro, id, cover, price } = book;\n                book_list.push({ bookname, short_intro, id, cover, price });\n            });\n            dispatch(receiveBookList(book_list));\n        }, 100);\n    };\n};\n\nconst receiveBookList = (book_list) => ({\n    type: RECEIVE_BOOKLIST,\n    data: book_list,\n});\n\n// 根据id向服务器fetch书籍的详情\nexport const getBookInfo = (id) => {\n    return (dispatch) => {\n\n        //模拟异步获取数据\n        setTimeout(() => {\n            // const book_info = {\n            //     book_info: {\n            //         id: id,\n            //         bookname: \"猫不存在\",\n            //         cover: \"https://s1.ax1x.com/2020/05/17/YRcJKI.jpg\",\n            //         author: \" [美] 厄休拉・勒古恩\",\n            //         \"ISBN\": \"9787540486198\",\n            //         \"press\": \"湖南文艺出版社\",\n            //         \"publish_year\": \"2020-5\",\n            //         \"number_of_pages\": \"408\",\n            //         \"price\": \"49.8\",\n            //         \"grade\": \"8\",\n            //         \"star\": \"4\",\n            //         \"grade_spread\": [[\"5星\", 50], [\"4星\", 0], [\"3星\", 50], [\"2星\", 0], [\"1星\", 0]],\n            //         \"description\": \"<p>科幻文化领域专业影响力品牌、亚太科幻大会主办方未来事务管理局重磅新作，致力打造中国科幻的黄金时代。<p/><p>从猫开始，全世界的科幻名家带你走出熟悉的日常，去往未知的奇境。17 个国内外科幻作家有关猫的科幻故事，5 篇与猫相关的科幻趣文。<p/><p>内附《牛筋名猫录》漫画师阿科创作的刘慈欣、韩松、儒勒・凡尔纳、阿瑟・C・克拉克、厄休拉・勒古恩等 9 位科幻作家猫漫画。<p/><p>融合虚构与非虚构，带你领略：有了猫，你就有了整个宇宙；在你腿上的毛茸茸，藏着宇宙的大秘密。</p>\"\n            //     }\n            // }\n\n\n\n            const book_info = { book_info: db_select_MapItem(BOOKINFO, id) }\n            console.log(book_info);\n\n            dispatch(receiveBookInfo(book_info));\n        }, 1000);\n    };\n};\n\nconst receiveBookInfo = (book_info) => ({\n    type: RECEIVE_BOOKINFO,\n    data: book_info,\n});\n\n\n// 根据id向服务器fetch书籍的评论\nexport const getBookComments = (id) => {\n    return (dispatch) => {\n        // console.log(`正在获取id为${id}的书的book_comments`);\n        //模拟异步获取数据 \n        setTimeout(() => {\n            // const book_comments = {\n            //     book_comments: [\n            //         { username: \"Jack\", comment: \"you jump i jump\", avatar: \"https://cdnb.artstation.com/p/assets/images/images/006/534/075/smaller_square/gin-26.jpg?1499327788\", number_of_like: 66, number_of_dislike: 33, my_action: \"disliked\", created_time: \"20200208T080910\" },\n            //         { username: \"Jack+20\", comment: \"you jump i will not jump with you\", avatar: \"https://th.bing.com/th/id/OIP.V15VTnxfK8tRQOfGjO2UnQAAAA?pid=Api&rs=1\", number_of_like: 666, number_of_dislike: 333, my_action: \"liked\", created_time: \"20200508T080910\" },\n            //     ]\n            // }\n            const book_comments = { book_comments: db_select_MapItem(COMMENTS, id) }\n            dispatch(receiveBookComments(book_comments));\n        }, 1000);\n    };\n};\n\nconst receiveBookComments = (book_comments) => ({\n    type: RECEIVE_BOOK_COMMENTS,\n    data: book_comments,\n});\n\n/* 购物车页面的操作 */\n\nexport const getTrolleyList = () => {\n    return (dispatch) => {\n        // 异步从服务器取数据\n        setTimeout(() => {\n            // 从本地数据库调数据\n            const trolley_db = db_select_table(TROLLEY);\n            const trolley_data = []\n            if (Object.keys(trolley_db).length > 0) {\n                Object.keys(trolley_db).forEach(key => {\n                    let trolley_item = db_select_MapItem(BOOKINFO, key);\n                    trolley_item.qty = trolley_db[key];\n                    trolley_item.key = key;\n                    trolley_data.push(trolley_item)\n                })\n            }\n            dispatch(receiveTrolleyData(trolley_data));\n        }, 100);\n    }\n};\n\nconst receiveTrolleyData = (trolley_data) => ({\n    type: RECEIVE_TROLLEYDATA,\n    data: trolley_data,\n});\n\nexport const updateTrolleyData = (newData, bookid, qty) => {\n\n    return dispatch => {\n        //发请求给服务器确认\n        setTimeout(() => {\n            // local stroage 模拟服务器更新：\n            db_update_trolleyItem(TROLLEY, bookid, qty)\n\n            // .then(模拟服务器确认更新成功:        \n            dispatch(updateSuccess(newData));\n            console.log(\"dispatched\")\n        }, 100);\n    }\n\n};\n\nexport const deleteTrolleyData = (newData, bookid) => {\n\n    return dispatch => {\n        //发请求给服务器确认\n        // local stroage 模拟服务器更新：\n        setTimeout(() => {\n            db_delete_trolleyItem(TROLLEY, bookid)\n\n            // .then(模拟服务器确认更新成功:        \n            dispatch(updateSuccess(newData));\n            console.log(\"dispatched\")\n        }, 100);\n    }\n\n};\n\n\nconst updateSuccess = (newData) => {\n    return {\n        type: UPDATE_TROLLEYDATA,\n        data: newData,\n    }\n};\n\nexport const clearStateToObj = () => {\n    return {\n        type: CLEAR_STATE_TO_OBJ,\n        data: {},\n    }\n}\n\nexport const clearStateToList = () => {\n    return {\n        type: CLEAR_STATE_TO_LIST,\n        data: [],\n    }\n}\n\n\n","export const DELETE_BOOK = \"deleteBook\";\nexport const RECEIVE_BOOKLIST = \"receiveBookList\";\nexport const RECEIVE_BOOKINFO = \"receiveBookInfo\";\nexport const RECEIVE_BOOK_COMMENTS = \"receiveBookComments\";\nexport const RECEIVE_TROLLEYDATA = \"receiveTrolleyData\";\nexport const UPDATE_TROLLEYDATA = \"updateTrolleyData\";\nexport const CLEAR_STATE_TO_OBJ = \"clearStateToObj\";\nexport const CLEAR_STATE_TO_LIST = \"clearStateToList\";\n","/**\n * 复用事件回调函数\n */\n\nimport { notifySuccess } from \"./notification\"\nimport { db_insert_trolleyItem } from './localDb';\nimport { TROLLEY } from \"./db-types\"\n\nexport const addToCart = (id, bookname) => {\n\n       // TODO dispatch 发送请求给服务器\n\n       // 存入localstorage\n       console.log(\"-------: \"+ id)\n       db_insert_trolleyItem(TROLLEY,id)\n\n       // 弹出确认加入购物车的对话框\n       notifySuccess('加入购物车成功！', `${bookname}已经加入购物车。`)\n\n       //  从书的列表中移除\n       // this.props.deleteBook(id);\n\n}","import React from 'react'\nimport { pale_olive, light_aoi, dark_red } from \"../assets/color\"\nimport { notification } from 'antd'\nimport { CheckCircleOutlined, CloseCircleOutlined } from '@ant-design/icons'\n\nexport const notifySuccess = (msg, content) => {\n    notification.open({\n        message: msg,\n        description:\n            content,\n        icon: <CheckCircleOutlined style={{ color: pale_olive }} />,\n        style: {\n            backgroundColor: light_aoi,\n        },\n    });\n}\n\nexport const notifyFailure = (msg, content) => {\n    notification.open({\n        message: msg,\n        description:\n            content,\n        icon: <CloseCircleOutlined style={{ color: dark_red }} />,\n        style: {\n            backgroundColor: light_aoi,\n        },\n    });\n}","/** 将float转为金钱格式\n *  src: https://www.cnblogs.com/mingmingruyuedlut/archive/2013/05/19/3082177.html\n *  e.g. formatMoney(1213.234, \"2\", \"￥\")\n */\n\nexport function formatMoney(number, places, symbol, thousand, decimal) {\n    number = number || 0;\n    places = !isNaN(places = Math.abs(places)) ? places : 2;\n    symbol = symbol !== undefined ? symbol : \"￥\";\n    thousand = thousand || \"\";\n    decimal = decimal || \".\";\n    var negative = number < 0 ? \"-\" : \"\",\n        i = parseInt(number = Math.abs(+number || 0).toFixed(places), 10) + \"\",\n        j = (j = i.length) > 3 ? j % 3 : 0;\n    return symbol + negative + (j ? i.substr(0, j) + thousand : \"\") + i.substr(j).replace(/(\\d{3})(?=\\d)/g, \"$1\" + thousand) + (places ? decimal + Math.abs(number - i).toFixed(places).slice(2) : \"\");\n}\n\n\n/**\n * 避免js金额计算时,parseFloat产生的精度问题：\n * src: https://blog.csdn.net/MatinBell/article/details/78571292\n * @param {number} qty    \n * @param {string} price_str  currency format of price, e.g. $ 9.99\n * @param {number} pos       position to start slice the price string to remove symbol, e.g. \"$\"\n */\nexport function calSubtotal(qty,price_str,pos){\n    let price = 0.00;\n    if(pos) {\n         price = parseFloat(price_str.substr(pos));\n    }\n    else {\n        price = parseFloat(price_str)\n    }\n    // console.log(price);\n    return Math.floor(parseFloat(parseInt(qty)*100*price))/100;\n}","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Card, Typography } from \"antd\";\nimport {\n  StarOutlined,\n  ShareAltOutlined,\n  ShoppingCartOutlined,\n} from \"@ant-design/icons\";\nimport { Link } from \"react-router-dom\";\nimport \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { deleteBook } from \"../../redux/actions.js\";\nimport { addToCart } from \"../../utils/handleEvent\";\nimport { formatMoney } from \"../../utils/money-calculator\";\n\nimport \"./book-item.less\";\n\nconst { Meta } = Card;\nconst { Text } = Typography;\n\nclass BookItem extends Component {\n  // 添加书进购物车 - 从util中复用\n  // addToCart = (id, bookname) => {\n\n  //     // 存入localstorage\n  //     let trolleyDB = getTrolley() || {};\n  //     trolleyDB[id] = bookname;\n  //     updateTrolley(trolleyDB);\n\n  //     // 弹出确认加入购物车的对话框\n  //     notifySuccess('加入购物车成功！',`${bookname}已经加入购物车。`)\n\n  //     //  从书的列表中移除\n  //     // this.props.deleteBook(id);\n\n  // }\n\n  render() {\n    const { bookname, short_intro, cover, id, price } = this.props.book_info;\n    return (\n      <Card\n        hoverable\n        bordered={false}\n        style={{ width: 300, margin: \"0 auto\" }}\n        cover={\n          <Link to={`/description/${id}`}>\n            <div\n              style={{\n                width: \"100%\",\n                height: \"425px\",\n                background: `url(${cover}) no-repeat center`,\n                backgroundSize: \"cover\",\n              }}\n            ></div>\n          </Link>\n        }\n        actions={[\n          <StarOutlined key=\"\bwish\" />,\n          <ShoppingCartOutlined\n            key=\"trolley\"\n            onClick={addToCart.bind(this, id, bookname)}\n          />,\n          <ShareAltOutlined key=\"share\" />,\n        ]}\n      >\n        <Link to={`/description/${id}`}>\n          <Meta\n            title={bookname}\n            description={\n              <div>\n                <p style={{ marginBottom: 5, marginLeft: -2 }}>\n                  <Text type=\"warning\">{formatMoney(price)}</Text>\n                </p>\n                <p className=\"book-item-desc\">{short_intro}</p>\n              </div>\n            }\n          />\n        </Link>\n      </Card>\n    );\n  }\n}\n\nBookItem.propTypes = {\n  book_info: PropTypes.object.isRequired,\n  deleteBook: PropTypes.func.isRequired,\n};\n\nexport default connect(null, { deleteBook })(BookItem);\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport BookItem from \"../book-item/book-item\";\nimport { Row, Col, Pagination } from \"antd\";\nimport { pages_bg_color } from \"../../assets/color\";\nimport { connect } from \"react-redux\";\nimport { getBookList, clearStateToObj } from \"../../redux/actions.js\";\nimport './book-list.less'\n\nclass BookList extends Component {\n  constructor(props) {\n    super(props);\n    // console.log(this.props)\n  }\n\n  componentDidMount() {\n    // debugger\n    this.props.getBookList();\n  }\n\n  // // 将已经加入购物车的书从列表页中移除\n  // pickBook = (id) => {\n  //     const picked_list = this.state.book_list.filter(book => book.id !== id)\n  //     this.setState({book_list:picked_list})\n  // }\n\n  componentWillUnmount() {\n    this.props.clearStateToObj();\n  }\n\n  render() {\n    // debugger\n    const { book_list } = this.props;\n    return (\n      <div\n        className=\"book-list-wrapper\"\n      >\n        {/* 栅格布局套card样式的book-item */}\n        {Object.keys(book_list).length > 0 && (\n          <Row\n            justify=\"space-between\"\n            align=\"top\"\n            gutter={[32, { xs: 8, sm: 16, md: 24, lg: 32 }]}\n          >\n            {book_list.map((book_info, index) => (\n              <Col span={6} key={index}>\n                {/* <BookItem  book_info={book_info} pickBook={this.pickBook}/> */}\n                <BookItem book_info={book_info} />\n              </Col>\n            ))}\n          </Row>\n        )}\n\n        {/* 分页符 */}\n        <Pagination\n          style={{ width: \"200px\", margin: \"0 auto\" }}\n          // simple\n          defaultCurrent={1}\n          total={27}\n          pageSize={9}\n        />\n      </div>\n    );\n  }\n}\n\nBookList.propTypes = {\n  getBookList: PropTypes.func.isRequired,\n  clearStateToObj: PropTypes.func.isRequired,\n  book_list: PropTypes.array.isRequired,\n};\n\nexport default connect((state) => ({ book_list: state.book_list }), {\n  getBookList,\n  clearStateToObj,\n})(BookList);\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { useContext, useState, useEffect, useRef } from 'react';\nimport { Table, Input, Popconfirm, Form, Typography, Button } from 'antd';\nimport { EditOutlined } from '@ant-design/icons'\nimport { content_bg_color } from \"../../assets/color\"\nimport { getTrolleyList, updateTrolleyData, deleteTrolleyData,clearStateToList} from \"../../redux/actions.js\"\nimport { calSubtotal, formatMoney } from \"../../utils/money-calculator\"\n\nconst { Text } = Typography;\n\nconst EditableContext = React.createContext();\n\nconst EditableRow = ({ index, ...props }) => {\n    const [form] = Form.useForm();\n    return (\n        <Form form={form} component={false}>\n            <EditableContext.Provider value={form}>\n                <tr {...props} />\n            </EditableContext.Provider>\n        </Form>\n    );\n};\n\nconst EditableCell = ({\n    title,\n    editable,\n    children,\n    dataIndex,\n    record,\n    handleSave,\n    ...restProps\n}) => {\n    const [editing, setEditing] = useState(false);\n    const inputRef = useRef();\n    const form = useContext(EditableContext);\n    useEffect(() => {\n        if (editing) {\n            inputRef.current.focus();\n        }\n    }, [editing]);\n\n    const toggleEdit = () => {\n        setEditing(!editing);\n        form.setFieldsValue({\n            [dataIndex]: record[dataIndex],\n        });\n    };\n\n    const save = async e => {\n        try {\n            const values = await form.validateFields();\n            toggleEdit();\n            handleSave({ ...record, ...values });\n        } catch (errInfo) {\n            console.log('Save failed:', errInfo);\n        }\n    };\n\n    let childNode = children;\n\n    if (editable) {\n        childNode = editing ? (\n            <Form.Item\n                style={{\n                    margin: 0,\n                }}\n                name={dataIndex}\n                rules={[\n                    {\n                        required: true,\n                        message: `必须填写${title}.`,\n                    },\n                    {\n                        // 验证qty的规则必须是0-100内的正整数\n                        pattern: /^[1-9][0-9]{0,1}$/,\n                        message: \"限购99本，请输入正确的数量。\"\n                    }\n                ]}\n            >\n                <Input ref={inputRef} onPressEnter={save} onBlur={save} style={{ width: \"50%\" }} />\n            </Form.Item>\n\n        ) : (\n                <div\n                    className=\"editable-cell-value-wrap\"\n                    style={{\n                        paddingRight: 24,\n                    }}\n                    onClick={toggleEdit}\n                >\n                    {children}\n                </div>\n            );\n    }\n\n    return <td {...restProps}>{childNode}</td>;\n};\n\n\n\nclass Trolley extends Component {\n    constructor(props) {\n        super(props);\n        this.columns = [\n            {\n                title: \"封面\",\n                dataIndex: 'cover',\n                width: '15%',\n                render: (url) =>this.props.dataSource.length >= 1?\n                    // <div style={{\n                    // background: `url(${url}) no-repeat center`,\n                    // backgroundSize: 'contain',\n                    // width: \"100px\",\n                    // heigh: \"150px\",\n                    // }}/>,\n                    (<img src={url} style={{ height: 100 }} />):null,\n            },\n            {\n                title: \"书籍名称\",\n                dataIndex: 'bookname',\n                width: '18%',\n            },\n            {\n                title: \"作者\",\n                dataIndex: 'author',\n\n            },\n            {\n                title: \"价格\",\n                dataIndex: 'price',\n                width: '8%',\n                render: (text) => this.props.dataSource.length >= 1?(\n                    <Text>{formatMoney(text, \"2\", \"￥\")}</Text>\n                ):null\n            },\n            {\n                title: \"数量\",\n                dataIndex: 'qty',\n                width: '8%',\n                editable: true,\n                render: (text) => this.props.dataSource.length >= 1 ?(\n                    <div style={{ width: \"50%\", display: \"flex\", justifyContent: \"space-between\" }}>\n                        <Text>{text}&nbsp;&nbsp;</Text>\n                        <EditOutlined style={{ marginTop: 3 }} />\n                    </div>\n                ):null,\n            },\n            {\n                title: \"小计\",\n                dataIndex: 'subtotal',\n                width: '12%',\n                // record是第二个传入的参数，要调取必须申明text\n                render: (text, record) => this.props.dataSource.length >= 1 ? (\n                <Text>{formatMoney(calSubtotal(record.qty,record.price),\"2\",\"￥\")}</Text>\n                ): null,\n            },\n            {\n                title: '',\n                dataIndex: 'delete',\n                width: '8%',\n                render: (text, record) =>\n                    // 此处的record指这一行的数据对象\n                    // this.state.dataSource.length >= 1 ? (\n                    this.props.dataSource.length >= 1 ? (\n                        <Popconfirm title=\"确认删除吗?\" onConfirm={() => this.handleDelete(record.key)}>\n                            <a>删除</a>\n                        </Popconfirm>\n                    ) : null,\n            },\n        ]\n\n        this.state = {\n            // dataSource: [\n            //     {\n            //         key: \"1\",\n            //         cover: \"http://huaxia.com/zhwh/yd/images/2018/09/18/2097945.png\",\n            //         bookname: 'I have a dream',\n            //         author: \"Edward King\",\n            //         price: 32.00,\n            //         qty: 1,\n            //         subtotal: 0,\n\n            //     },\n            //     {\n            //         key: \"2\",\n            //         cover: \"http://huaxia.com/zhwh/yd/images/2018/09/18/2097945.png\",\n            //         bookname: 'I have another dream',\n            //         author: \"Edward King\",\n            //         price: 16.00,\n            //         qty: 2,\n            //         subtotal: 0,\n            //     },\n            // ],\n            count: 2, //例子中带着，不确定有没有用\n            // 用于存储表格中用户选中的row所对应data的key\n            keySelected: [],\n        };\n        // this.props.getTrolleyList();\n    }\n\n    componentDidMount(){\n        this.props.getTrolleyList();\n    }\n\n    componentWillUnmount(){\n        this.props.clearStateToList();\n    }\n    \n\n    handleDelete = key => {\n        const dataSource = [...this.props.dataSource];\n        // this.setState({ dataSource: dataSource.filter(item => item.key !== key) });\n        const newData = dataSource.filter(item => item.key !== key)\n        \n        //TODO 发送删除state并发送给服务器 | 删除localstorage\n        this.props.deleteTrolleyData(newData,key)\n\n    };\n\n    handleSave = row => {\n        const {id,qty} = row\n        const newData = [...this.props.dataSource];\n        const index = newData.findIndex(item => row.key === item.key);\n        const item = newData[index];\n        newData.splice(index, 1, { ...item, ...row });\n        // this.setState({\n        //     dataSource: newData,\n        // }); \n        // this.props.updateSuccess(newData);\n        this.props.updateTrolleyData(newData,id,qty)\n        console.log(this.props.dataSource)\n    };\n\n    // 表格每行checkbox的事件回调\n    /**\n     * @param selectedRowkeys: 所有选中的行的key\n     * @param selectedRows: 所有选中行的数据对象列表\n     * @param record: 所选中行的数据对象\n     * @param selected: boolean, 是否选中\n     */\n    rowSelection = {\n        onChange: (selectedRowKeys, selectedRows) => {\n            // console.log(`selectedRowKeys: ${selectedRowKeys}`, 'selectedRows: ', selectedRows);\n        },\n        onSelect: (record, selected, selectedRows) => {\n            // console.log(record, selected, selectedRows);\n            let { keySelected } = this.state;\n            if (selected) {\n                keySelected.push(record.key);\n                this.setState({ keySelected })\n            } else {\n                this.setState({ keySelected: keySelected.filter((key) => key !== record.key) })\n            }\n            console.log(this.state.keySelected)\n        },\n        onSelectAll: (selected, selectedRows, changeRows) => {\n            // console.log(selected, selectedRows, changeRows);\n            this.setState({ keySelected: selectedRows.map(record => record.key) })\n        },\n    };\n\n    render() {\n        console.log(\"trolley rendered\")\n        // const { dataSource } = this.state;\n        // console.log(this.props.dataSource)\n        const { dataSource } = this.props;\n        const components = {\n            body: {\n                row: EditableRow,\n                cell: EditableCell,\n            },\n        };\n        const columns = this.columns.map(col => {\n            if (!col.editable) {\n                return col;\n            }\n            return {\n                ...col,\n                onCell: record => ({\n                    record,\n                    editable: col.editable,\n                    dataIndex: col.dataIndex,\n                    title: col.title,\n                    handleSave: this.handleSave,\n                }),\n            };\n        });\n\n        return (\n            <Table\n                style={{\n                    width: 1470,\n                    margin: \"20px auto\"\n                }}\n                rowSelection={this.rowSelection} //每行checkbox的点击事件\n                pagination={false} //取消分页器\n                components={components}\n                // rowClassName={() => 'editable-row'}\n                bordered={false}\n                dataSource={dataSource}\n                columns={columns}\n                // 总计条的逻辑\n                summary={table_data => {\n                    let total_price = 0;\n                    const selected_data = table_data.filter(record => this.state.keySelected.includes(record.key));\n                    // console.log(selected_data)\n                    selected_data.forEach(({ qty, price }) => {\n                        total_price += calSubtotal(qty,price);\n                    })\n\n                    return (\n                        <Table.Summary.Row>\n                            <Table.Summary.Cell index={0}></Table.Summary.Cell>\n                            <Table.Summary.Cell index={1} colSpan={4}>总计</Table.Summary.Cell>\n                            <Table.Summary.Cell index={3}>\n                                <Text type=\"warning\" style={{ fontSize: 18 }}>{formatMoney(total_price,\"2\",\"￥\")}</Text>\n                            </Table.Summary.Cell>\n                            <Table.Summary.Cell index={4} colSpan={3}>\n                                <Button type=\"primary\" style={{ width: \"80%\", height: \"100%\", fontSize: 16 }}>购买</Button>\n                            </Table.Summary.Cell>\n                        </Table.Summary.Row>\n                    )\n                }}\n            />\n        )\n    }\n}\n\nTrolley.propTypes = {\n    getTrolleyList: PropTypes.func.isRequired,\n    updateTrolleyData: PropTypes.func.isRequired,\n    deleteTrolleyData: PropTypes.func.isRequired,\n    clearStateToList: PropTypes.func.isRequired,\n    dataSource: PropTypes.array.isRequired,\n}\n\n\nexport default connect(\n    state => ({ dataSource: state.trolley_data }),\n    { getTrolleyList, updateTrolleyData, deleteTrolleyData, clearStateToList},\n)(Trolley) ","import React, { Component } from 'react'\n\nexport default class User extends Component {\n    render() {\n        return (\n            <div>\n                user page\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react'\nimport { Progress } from 'antd'\nimport { pale_olive } from \"../assets/color\"\n\nexport default class GradeSpread extends Component {\n    render() {\n        const {grade} = this.props;\n        return (\n            <div>\n                <div className=\"grade-spread\" style={{ display: \"flex\", height:30}}>\n                    <pre style={{ flexFlow: 1, margin:0 }}>{grade[0]}  </pre>\n                    <div className=\"process-wrapper\" style={{ width: 100, flexGrow: 2 }}>\n                        <Progress percent={grade[1]} size=\"small\" strokeColor={pale_olive} />\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n","import React, { createElement, useState } from 'react';\nimport { Comment, Tooltip, Avatar } from 'antd';\nimport moment from 'moment';\nimport { DislikeOutlined, LikeOutlined, DislikeFilled, LikeFilled } from '@ant-design/icons';\n\n\nconst CommentItem = (props) => {\n  const { username, comment, avatar, number_of_like, number_of_dislike, my_action,created_time } = props.comment;\n\n  const [likes, setLikes] = useState(number_of_like);\n  const [dislikes, setDislikes] = useState(number_of_dislike);\n  const [action, setAction] = useState(my_action);\n\n  const like = () => {\n    if (action === \"liked\") {\n      setLikes(likes-1);\n      setDislikes(dislikes);\n      setAction(null);\n    }\n    else if(action === \"disliked\"){\n      setLikes(likes+1);\n      setDislikes(dislikes-1);\n      setAction('liked');\n    }\n    else{\n      setLikes(likes+1);\n      setDislikes(dislikes);\n      setAction('liked');\n    }\n    //TODO 更新my_action，我的点踩信息到服务器\n  };\n\n  const dislike = () => {\n    if (action === \"disliked\") {\n      setLikes(likes);\n      setDislikes(dislikes-1);\n      setAction(null);\n    }\n    else if(action === \"liked\"){\n      setLikes(likes-1);\n      setDislikes(dislikes+1);\n      setAction('disliked');\n    }\n    else{\n      setLikes(likes);\n      setDislikes(dislikes);\n      setAction('disliked');\n    }\n\n  };\n\n  const actions = [\n    <span key=\"comment-basic-like\">\n      <Tooltip title=\"Like\">\n        {createElement(action === 'liked' ? LikeFilled : LikeOutlined, {\n          onClick: like,\n        })}\n      </Tooltip>\n      <span className=\"comment-action\">{likes}</span>\n    </span>,\n    <span key=' key=\"comment-basic-dislike\"'>\n      <Tooltip title=\"Dislike\">\n        {React.createElement(action === 'disliked' ? DislikeFilled : DislikeOutlined, {\n          onClick: dislike,\n        })}\n      </Tooltip>\n      <span className=\"comment-action\">{dislikes}</span>\n    </span>,\n  ];\n\n  return (\n    <Comment\n      actions={actions}\n      author={username}\n      avatar={\n        <Avatar\n          // src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\"\n          src={avatar}\n          alt={username}\n        />\n      }\n      content={\n        <p>\n          {comment}\n        </p>\n      }\n      datetime={\n        <Tooltip title={moment(created_time).format('YYYY-MM-DD HH:mm:ss')}>\n          <span>{moment(created_time).fromNow()}</span>\n        </Tooltip>\n      }\n    />\n  );\n}\n\nexport default CommentItem;","import React, { Component } from 'react';\nimport { Card, Descriptions, Rate, List } from \"antd\";\nimport { StarOutlined, ShareAltOutlined, ShoppingCartOutlined} from '@ant-design/icons';\nimport { connect } from \"react-redux\";\nimport { PropTypes } from \"prop-types\";\n\nimport { light_grey } from \"../../assets/color\";\nimport GradeSpread from '../grade-spread';\nimport CommentItem from '../comment-item';\nimport { getBookInfo, getBookComments,clearStateToObj } from \"../../redux/actions\";\nimport {addToCart} from \"../../utils/handleEvent\"\nimport {formatMoney} from \"../../utils/money-calculator\"\n\n\nclass Description extends Component {\n    constructor(props) {\n        super(props)\n        console.log(this.props.match.params.id)\n\n    }\n\n    componentDidMount() {\n        this.props.getBookInfo(this.props.match.params.id);\n        this.props.getBookComments(this.props.match.params.id);\n    }\n\n    componentWillUnmount(){\n        this.props.clearStateToObj();\n    }\n\n    render() {\n        const { book_info, book_comments } = this.props.book_description\n        // console.log(book_info,book_comments);\n\n        return (\n            <div\n                style={{\n                    width: 980,\n                    margin: \"20px auto\",\n                    backgroundColor: light_grey,\n                }}\n            >\n                {/* 条件渲染 */}\n                {book_info && (\n                    <div\n                        className=\"description-header-wrapper\"\n                        style={{\n                            display: \"flex\",\n                            // justifyContent: \"space-between\",\n                        }}\n                    >\n                        {/* 封面 */}\n                        <Card\n                            style={{\n                                width: 250,\n                                borderRight: 0,\n                                borderBottom: 0,\n                                backgroundColor: light_grey,\n                            }}\n                            bodyStyle={{ padding: 0 }}\n                            cover={\n                                <div style={{\n                                    marginTop: 16,\n                                    width: '100%',\n                                    height: '235px',\n                                    background: 'no-repeat center',\n                                    backgroundImage: `url(${book_info.cover})`,\n                                    backgroundSize: 'contain'\n                                }}></div>\n                                // <img\n                                //     style={{ width: \"100%\", margin: \"0 auto\" }}\n                                //     src=\"http://huaxia.com/zhwh/yd/images/2018/09/18/2097945.png\"\n                                //     alt=\"book-cover\"\n                                // />\n                            }\n                            actions={[\n                                <StarOutlined key=\"\bwish\" />,\n                                <ShoppingCartOutlined key=\"trolley\" onClick={addToCart.bind(this,book_info.id,book_info.bookname)} />,\n                                <ShareAltOutlined key=\"share\" />,\n                            ]}\n                        >\n                        </Card>\n\n\n                        {/* 书籍基本信息 */}\n                        <Card\n                            title={book_info.bookname}\n                            style={{ width: 500, backgroundColor: light_grey, flexGrow: 1, borderBottom: 0, borderRight: 0 }}\n                            headStyle={{ fontSize: 18 }}\n                        >\n                            <Descriptions\n                                size=\"small\"\n                                column={1}\n                            >\n                                <Descriptions.Item label=\"作者\">{book_info.author}</Descriptions.Item>\n                                <Descriptions.Item label=\"出版社\">{book_info.press}</Descriptions.Item>\n                                <Descriptions.Item label=\"出版年份\">{book_info.publish_year}</Descriptions.Item>\n                                <Descriptions.Item label=\"页数\">{book_info.number_of_pages}</Descriptions.Item>\n                                <Descriptions.Item label=\"价格\">{formatMoney(parseFloat(book_info.price),\"2\",\"￥\")}</Descriptions.Item>\n                                <Descriptions.Item label=\"ISBN\">{book_info.ISBN}</Descriptions.Item>\n                            </Descriptions>\n                        </Card>\n\n                        {/* 书籍评分信息 */}\n                        <Card\n                            title=\"书籍评分\"\n                            style={{ width: 250, backgroundColor: light_grey, size: \"small\", borderBottom: 0 }}\n                            headStyle={{ fontSize: 14, paddingTop: 6 }}\n                        >\n                            <div className=\"grade-wrapper\" style={{ display: \"flex\" }}>\n                                <div className=\"grade\" style={{ fontSize: 26, flexGrow: 2 }}>{book_info.grade}</div>\n                                <div className=\"rate\" style={{ flexGrow: 3 }}>\n                                    <Rate defaultValue={book_info.star} allowHalf disabled></Rate>\n                                </div>\n                            </div>\n                            <div className=\"grade-spread-wrapper\" style={{ height: 150, marginTop: 10, display: \"flex\", flexDirection: \"column\", }}>\n                                {book_info.grade_spread.map(\n                                    (grade, index) => <GradeSpread key={index} grade={grade} />\n                                )}\n                            </div>\n                        </Card>\n                    </div>\n                )}\n\n                {/* 书籍简介，条件渲染 */}\n                {book_info && (\n                    <Card\n                        title=\"书籍简介\"\n                        style={{ width: 980, backgroundColor: light_grey, borderBottom: 0 }}\n                    >\n                        <div dangerouslySetInnerHTML={{ __html: book_info.description }}></div>\n                    </Card>\n                )}\n\n                {/* 书籍评论，条件渲染 */}\n                {book_comments && (\n                    <Card\n                        title={`${book_comments.length}条书籍评论`}\n                        style={{ width: 980, backgroundColor: light_grey }}\n                    >\n                        <List\n                            itemLayout=\"horizontal\"\n                            dataSource={book_comments}\n                            renderItem={comment => (\n                                <li>\n                                    <CommentItem comment={comment} />\n                                </li>\n                            )}\n                        />\n                    </Card>\n\n                )}\n            </div>\n        )\n    }\n}\n\nDescription.propTypes = {\n    book_description: PropTypes.object.isRequired,\n    getBookInfo: PropTypes.func.isRequired,\n    clearStateToObj: PropTypes.func.isRequired,\n    getBookComments: PropTypes.func.isRequired,\n}\n\nexport default connect(\n    state => ({ book_description: state.book_description }),\n    { getBookInfo, getBookComments,clearStateToObj}\n)(Description);\n\n\n","import React, { Component } from 'react'\nimport { Form, Input, Button, Checkbox } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport \"./login.less\"\nimport { Link } from \"react-router-dom\"\nimport { notifyFailure } from \"../../utils/notification\"\nimport cookie from 'react-cookies'\n\n\n// const Login = () => {\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        console.log(props)\n        this.state = {\n            isRemembered: cookie.load('isRemembered') || false\n        }\n    }\n\n    // const onFinish = (values) => {\n    onFinish = (values) => {\n        console.log('Received values of form: ', values);\n        const { email, password, remember } = values\n        //TODO redux发送ajax请求数据\n\n        //TODO 成功，返回主页; 错误，弹出Notification\n        notifyFailure(\"遇到电波错误\", \"登录失败(ಥ_ಥ)，请稍后再试。\")\n    };\n\n    handleRememberPwd = (e) => {\n        console.log(e)\n        // const value = e.target.name === 'isGoing' ? target.checked : target.value;\n        // console.log(value)\n\n    };\n\n\n    render() {\n        return (\n            <div className=\"login-wrapper\">\n                <h2>登录</h2>\n                <Form\n                    name=\"normal_login\"\n                    className=\"login-form\"\n                    initialValues={{\n                        remember: true,\n                    }}\n                    // 提交表单且数据验证成功后的回调\n                    // onFinish={onFinish}\n                    onFinish={this.onFinish}\n                    // initialValues={{ \"email\": \"123@gmail.com\", \"password\": \"123456\" }}\n                >\n                    <Form.Item\n                        className=\"form-item\"\n                        name=\"email\"\n                        rules={[\n                            {\n                                type: 'email',\n                                message: 'Email地址不合法!',\n                            },\n                            {\n                                required: true,\n                                message: '请输入email地址',\n                            },\n                        ]}\n                    >\n                        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"username@book-pecker.io\" />\n                    </Form.Item>\n\n                    <Form.Item\n                        className=\"form-item\"\n                        name=\"password\"\n                        rules={[\n                            {\n                                required: true,\n                                message: '请输入密码!',\n                            },\n                        ]}\n                    >\n                        <Input\n                            prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                            type=\"password\"\n                            placeholder=\"密码\"\n                        />\n                    </Form.Item>\n\n                    {/* XXX 表单项样式未设置好,无法调整form.item的样式 */}\n                    <Form.Item className=\"form-item\" style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n                        <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\n                            <Checkbox name=\"isRemembered\" checked={this.state.isRemembered} onChange={this.handleRememberPwd}>记住我</Checkbox>\n                        </Form.Item>\n\n                        <a className=\"login-form-forgot\" href=\"#\">\n                            忘记密码\n                        </a>\n                    </Form.Item>\n\n                    <Form.Item className=\"form-item\">\n                        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                            登录\n                        </Button>\n                            或 <Link to=\"/register\">立刻注册!</Link>\n                    </Form.Item>\n                </Form>\n            </div>\n        )\n    }\n}\n\nexport default Login","import React, { useState } from 'react';\nimport { Link } from \"react-router-dom\"\nimport { Form, Input, Tooltip, Select, Row, Col, Button, } from 'antd';\nimport { QuestionCircleOutlined } from '@ant-design/icons';\nimport \"./register.less\"\n\n\n\nconst { Option } = Select;\n\nconst prefixSelector = (\n    <Form.Item name=\"prefix\" noStyle>\n        <Select\n            style={{\n                width: 70,\n            }}\n        >\n            <Option value=\"86\">+86</Option>\n            <Option value=\"61\">+61</Option>\n        </Select>\n    </Form.Item>\n);\n\nconst Register = () => {\n    const [form] = Form.useForm();\n\n    //TODO 提交表单回调\n    const onFinish = values => {\n        console.log('Received values of form: ', values);\n    };\n\n\n\n    const formItemLayout = {\n        labelCol: { xs: { span: 24, }, sm: { span: 8, }, },\n        wrapperCol: { xs: { span: 24, }, sm: { span: 16, }, },\n    };\n\n    const tailFormItemLayout = {\n        wrapperCol: {\n            xs: { span: 24, offset: 0, },\n            sm: { span: 16, offset: 8, },\n        },\n    };\n\n    return (\n        <div className=\"register-wrapper\">\n            <h2>注册</h2>\n            <Form\n                className=\"form\"\n                {...formItemLayout}\n                form={form}\n                name=\"register\"\n                onFinish={onFinish}\n                scrollToFirstError\n                initialValues={{ prefix: '86' }}\n            >\n                <Form.Item\n                    name=\"nickname\"\n                    label={\n                        <span>\n                            昵称&nbsp;\n                                <Tooltip title=\"你想让别人怎么称呼你？\">\n                                <QuestionCircleOutlined />\n                            </Tooltip>\n                        </span>\n                    }\n                    rules={[\n                        {\n                            required: true,\n                            message: '请输入您的昵称！',\n\n                        },\n                        {\n                            min: 2,\n                            max: 10,\n                            message: \"用户名长度仅限于2-10位。\"\n                        },\n                        {\n                            pattern: /([\\u4e00-\\u9fa5]|[\\w]|[_])+$/,\n                            message: \"用户名长度仅能由汉字、字母、数字或下划线组成\"\n                        }\n                    ]}\n                >\n                    <Input />\n                </Form.Item>\n\n                <Form.Item\n                    name=\"email\"\n                    label=\"E-mail\"\n                    rules={[\n                        {\n                            type: 'email',\n                            whitespace: true,\n                            message: 'Email地址不合法!',\n                        },\n                        { required: true, message: '请输入email地址！' },\n                    ]}\n                >\n                    <Input />\n                </Form.Item>\n\n                <Form.Item\n                    name=\"password\"\n                    label=\"密码\"\n                    rules={[\n                        { required: true, message: '请输入密码！' },\n                        // 密码验证规则\n                        {\n                            min: 6,\n                            max: 20,\n                            message: \"密码长度仅限于6-20位。\",\n                        },\n                        {\n                            pattern: /^[\\w_]+$/,\n                            message: \"密码仅允许由字母，数字与下划线组成。\"\n                        }\n                    ]}\n                    hasFeedback\n                >\n                    <Input.Password />\n                </Form.Item>\n\n                <Form.Item\n                    name=\"confirm password\"\n                    label=\"确认密码\"\n                    dependencies={['password']}\n                    hasFeedback\n                    rules={[\n                        {\n                            required: true,\n                            message: '请确认密码!',\n                        },\n                        ({ getFieldValue }) => ({\n                            validator(rule, value) {\n                                if (!value || getFieldValue('password') === value) {\n                                    return Promise.resolve();\n                                }\n\n                                return Promise.reject('两次输入的密码不一致!');\n                            },\n                        }),\n                    ]}\n                >\n                    <Input.Password />\n                </Form.Item>\n\n                <Form.Item\n                    name=\"phone\"\n                    label=\"手机号\"\n                    rules={[\n                        {\n                            required: false,\n                            message: 'Please input your phone number!',\n                        },\n                    ]}\n                >\n                    <Input\n                        addonBefore={prefixSelector}\n                        style={{\n                            width: '100%',\n                        }}\n                    />\n                </Form.Item>\n\n                <Form.Item label=\"验证码\" extra=\"点击向该手机号发送验证码\">\n                    <Row gutter={8}>\n                        <Col span={12}>\n                            <Form.Item\n                                name=\"captcha\"\n                                noStyle\n                                rules={[\n                                    {\n                                        required: true,\n                                        message: '请输入收到的短信验证码',\n                                    },\n                                ]}\n                            >\n                                <Input />\n                            </Form.Item>\n                        </Col>\n                        <Col span={12}>\n                            <Button>发送验证码</Button>\n                        </Col>\n                    </Row>\n                </Form.Item>\n\n                <Form.Item {...tailFormItemLayout}>\n                    <Button type=\"primary\" htmlType=\"submit\" style={{ fontSize: 16, height: \"100%\" }}>\n                        注册\n                    </Button>\n                    &nbsp;&nbsp;或&nbsp;\n                    <Link to=\"/login\">返回登录页面</Link>\n                </Form.Item>\n            </Form>\n        </div>\n    )\n}\n\nexport default Register\n\n\n","/**\n * 应用根组件\n */\n\nimport React, { Component } from 'react';\nimport { Layout } from 'antd';\nimport { Switch, Route, Redirect } from \"react-router-dom\"\nimport MyHeader from './pages/header/header';\nimport BookList from './pages/book-list/book-list';\nimport Trolley from \"./pages/trolley/trolley\";\nimport User from \"./pages/user/user\";\nimport Description from \"./components/description/description\"\nimport Login from \"./pages/login/login\"\nimport Register from \"./pages/register/register\"\nimport { content_bg_color, footer_bg_color } from \"./assets/color\";\nimport {db_select_table,db_init_table} from \"./utils/localDb\"\nimport {TROLLEY,BOOKINFO} from \"./utils/db-types\"\n\nconst { Content, Footer } = Layout;\n\nexport default class App extends Component {\n    \n    render() {\n        return (\n            <div>\n                <Layout>\n                    <MyHeader />\n                    <Content className=\"content\" style={{ backgroundColor: content_bg_color,minHeight:800}}>\n                        {/* 切换路由组件 */}\n                        <Switch>\n                            <Route path='/books' component={BookList} />\n                            <Route path='/trolley' component={Trolley}/>\n                            <Route path=\"/register\" component={Register}/>\n                            <Route path='/login' component={Login}/>\n                            <Route path='/user' component={User}/>\n                            <Route path=\"/description/:id\" component={Description}/>\n                            <Redirect to='/books' />\n                        </Switch>\n                    </Content>\n\n                    <Footer style={{ textAlign: 'center', backgroundColor: footer_bg_color }}>\n                        bookpecker.io\n                    </Footer>\n                </Layout>\n            </div>\n        )\n    }\n}\n","import { combineReducers } from \"redux\";\nimport { RECEIVE_BOOKLIST, DELETE_BOOK, RECEIVE_BOOKINFO, RECEIVE_BOOK_COMMENTS, RECEIVE_TROLLEYDATA, UPDATE_TROLLEYDATA, CLEAR_STATE_TO_OBJ, CLEAR_STATE_TO_LIST } from \"./action-types\"\n\nfunction book_list(state = [], action) {\n    switch (action.type) {\n        case RECEIVE_BOOKLIST:\n            return action.data;\n        case DELETE_BOOK:\n            return state.filter(book => book.id !== action.data);\n        case CLEAR_STATE_TO_OBJ:\n            return action.data;\n        default:\n            return state;\n    }\n}\n\nfunction book_description(state = {}, action) {\n    switch (action.type) {\n        case RECEIVE_BOOKINFO:\n            return Object.assign({}, state, action.data);\n        // return Object.assign(state, action.data); //修改了老状态，导致bug\n        case RECEIVE_BOOK_COMMENTS:\n            return Object.assign({}, state, action.data);\n        // return Object.assign(state, action.data);\n        case CLEAR_STATE_TO_OBJ:\n            return action.data;\n        default:\n            return state;\n    }\n}\n\nfunction trolley_data(state = [], action) {\n    switch (action.type) {\n        case RECEIVE_TROLLEYDATA:\n            return action.data;\n        case UPDATE_TROLLEYDATA:\n            return action.data;\n        case CLEAR_STATE_TO_LIST:\n            return action.data;\n        default:\n            return state;\n    }\n}\n\n\nexport default combineReducers({\n    book_list,\n    book_description,\n    trolley_data,\n})\n","import {createStore, applyMiddleware} from 'redux'\nimport thunk from 'redux-thunk'\n\nimport reducers from './reducers'\n\nexport default createStore(\n  reducers,\n  applyMiddleware(thunk)\n)\n\n","/**\n * 入口js\n */\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { BrowserRouter } from \"react-router-dom\"\nimport { Provider } from 'react-redux'\nimport store from \"./redux/store\"\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root')\n)\n\n"],"sourceRoot":""}